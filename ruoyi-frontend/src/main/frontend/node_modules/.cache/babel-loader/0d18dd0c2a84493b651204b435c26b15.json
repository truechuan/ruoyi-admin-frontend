{"remainingRequest":"/Users/chenchuan/Documents/diandabai/diandabai/ruoyi-frontend/src/main/frontend/node_modules/thread-loader/dist/cjs.js!/Users/chenchuan/Documents/diandabai/diandabai/ruoyi-frontend/src/main/frontend/node_modules/babel-loader/lib/index.js!/Users/chenchuan/Documents/diandabai/diandabai/ruoyi-frontend/src/main/frontend/src/store/modules/permission.js","dependencies":[{"path":"/Users/chenchuan/Documents/diandabai/diandabai/ruoyi-frontend/src/main/frontend/src/store/modules/permission.js","mtime":1578710388000},{"path":"/Users/chenchuan/Documents/diandabai/diandabai/ruoyi-frontend/src/main/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenchuan/Documents/diandabai/diandabai/ruoyi-frontend/src/main/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenchuan/Documents/diandabai/diandabai/ruoyi-frontend/src/main/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import { constantRoutes } from '@/router';\nimport { getRouters } from '@/api/menu';\nimport Layout from '@/layout/index';\nvar permission = {\n  state: {\n    routes: [],\n    addRoutes: []\n  },\n  mutations: {\n    SET_ROUTES: function SET_ROUTES(state, routes) {\n      state.addRoutes = routes;\n      state.routes = constantRoutes.concat(routes);\n    }\n  },\n  actions: {\n    // 生成路由\n    GenerateRoutes: function GenerateRoutes(_ref) {\n      var commit = _ref.commit;\n      return new Promise(function (resolve) {\n        // 向后端请求路由数据\n        getRouters().then(function (res) {\n          var accessedRoutes = filterAsyncRouter(res.data);\n          accessedRoutes.push({\n            path: '*',\n            redirect: '/404',\n            hidden: true\n          });\n          commit('SET_ROUTES', accessedRoutes);\n          resolve(accessedRoutes);\n        });\n      });\n    }\n  }\n}; // 遍历后台传来的路由字符串，转换为组件对象\n\nfunction filterAsyncRouter(asyncRouterMap) {\n  return asyncRouterMap.filter(function (route) {\n    if (route.component) {\n      // Layout组件特殊处理\n      if (route.component === 'Layout') {\n        route.component = Layout;\n      } else {\n        route.component = loadView(route.component);\n      }\n    }\n\n    if (route.children != null && route.children && route.children.length) {\n      route.children = filterAsyncRouter(route.children);\n    }\n\n    return true;\n  });\n}\n\nexport var loadView = function loadView(view) {\n  // 路由懒加载\n  return function () {\n    return import(\"@/views/\".concat(view));\n  };\n};\nexport default permission;",null]}